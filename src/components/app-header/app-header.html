<header class="header">
  <div class="header-left">
    <h1 class="app-title">Curry-Howard</h1>
    <div class="header-divider"></div>
    <div class="workflow-nav">
      <div class="workflow-primary-toggle">
        <button
          type="button"
          class="direction-toggle-btn"
          [class.active]="headerSection === 'curry-howard'"
          (click)="onHeaderSection('curry-howard')">
          {{ t.curryHoward }}
        </button>
        <button
          type="button"
          class="direction-toggle-btn"
          [class.active]="headerSection === 'proofs'"
          (click)="onHeaderSection('proofs')">
          {{ t.proofs }}
        </button>
      </div>
      <div class="workflow-secondary-toggle" [class.workflow-secondary-toggle--visible]="true">
        <ng-container *ngIf="headerSection === 'curry-howard'; else proofsOptions">
          <button
            type="button"
            class="direction-toggle-btn"
            [class.active]="headerOption === 'ch-expression-to-lambda'"
            (click)="onHeaderOption('ch-expression-to-lambda')">
            {{ t.exprToLambda }}
          </button>
          <button
            type="button"
            class="direction-toggle-btn"
            [class.active]="headerOption === 'ch-lambda-to-expression'"
            (click)="onHeaderOption('ch-lambda-to-expression')">
            {{ t.lambdaToExpr }}
          </button>
        </ng-container>
        <ng-template #proofsOptions>
          <button
            type="button"
            class="direction-toggle-btn"
            [class.active]="headerOption === 'proofs-sequent'"
            (click)="onHeaderOption('proofs-sequent')">
            {{ t.sequentCalculus }}
          </button>
          <button
            type="button"
            class="direction-toggle-btn"
            [class.active]="headerOption === 'proofs-natural-deduction'"
            (click)="onHeaderOption('proofs-natural-deduction')">
            {{ t.naturalDeduction }}
          </button>
        </ng-template>
      </div>
    </div>
    <div class="header-divider"></div>
    <div class="mode-toggle-container">
      <div class="mode-toggle">
        <button
          class="mode-toggle-btn"
          [class.active]="mode === 'auto'"
          [disabled]="autoModeDisabled"
          [title]="autoModeTitle"
          type="button"
          (click)="onModeAuto()">
          {{ t.autoMode }}
        </button>
        <button
          class="mode-toggle-btn"
          [class.active]="mode === 'interactive'"
          type="button"
          (click)="onModeInteractive()">
          {{ t.interactiveMode }}
        </button>
      </div>
      <div class="submode-dropdown" *ngIf="mode === 'interactive'">
        <select class="submode-select" [ngModel]="interactiveSubmode" (ngModelChange)="onSubmodeChange($event)">
          <option value="applicable">{{ t.applicableOnly }}</option>
          <option value="all">{{ t.allRules }}</option>
          <option value="predict">{{ t.predictNext }}</option>
        </select>
      </div>
      <p-button
        *ngIf="mode === 'interactive'"
        [label]="t.stepBack"
        styleClass="btn btn-step-back"
        [disabled]="!canStepBack"
        (click)="onStepBack()">
      </p-button>
    </div>
  </div>
  <div class="header-actions">
    <p-button [icon]="'pi pi-question-circle'" [title]="t.help" styleClass="btn btn-ghost" (click)="onHelpClick()"></p-button>
    <div class="lang-switch">
      <p-button label="SK" [severity]="currentLanguage === 'sk' ? 'primary' : 'secondary'" styleClass="btn btn-toggle" (click)="onLanguage('sk')"></p-button>
      <p-button label="EN" [severity]="currentLanguage === 'en' ? 'primary' : 'secondary'" styleClass="btn btn-toggle" (click)="onLanguage('en')"></p-button>
    </div>
  </div>
</header>
